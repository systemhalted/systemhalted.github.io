---
layout: page
title: Categories
description: "An archive of posts sorted by categories."
permalink: /categories/

---

{% assign themes = site.data.taxonomy.themes %}

{% for theme in themes %}
  {% comment %}
    Filter out themes that currently have zero posts
  {% endcomment %}

  {% assign total_posts = 0 %}
  {% for cat in theme.categories %}
    {% assign posts = site.categories[cat] %}
    {% if posts %}
      {% assign total_posts = total_posts | plus: posts | size %}
    {% endif %}
  {% endfor %}

  {% if total_posts > 0 %}
    <h2 id="{{ theme.id }}">{{ theme.title }}</h2>

    <ul>
      {% for cat in theme.categories %}
        {% assign posts = site.categories[cat] %}
        {% if posts and posts.size > 0 %}
          <li>
            <a href="{{ '/categories/' | append: cat | append: '/' | relative_url }}">
              {{ cat | replace: '-', ' ' | capitalize }}
            </a>
            ({{ posts | size }})
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  {% endif %}
{% endfor %}

<h2>Other categories</h2>
<ul>
  {% comment %}
    Show any legacy categories that are not in the taxonomy file
  {% endcomment %}
  {% for cat in site.categories %}
    {% assign cat_name = cat[0] %}
    {% assign in_taxonomy = false %}

    {% for theme in themes %}
      {% if theme.categories contains cat_name %}
        {% assign in_taxonomy = true %}
      {% endif %}
    {% endfor %}

    {% unless in_taxonomy %}
      <li>
        <a href="{{ '/categories/' | append: cat_name | append: '/' | relative_url }}">
          {{ cat_name | replace: '-', ' ' | capitalize }}
        </a>
        ({{ cat[1] | size }})
      </li>
    {% endunless %}
  {% endfor %}
</ul>
